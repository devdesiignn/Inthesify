import{initializeApp}from"https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";import{getAuth,sendPasswordResetEmail}from"https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js";const firebaseConfig={apiKey:"AIzaSyCoTVeUde0QJeBxMrj5J-6E0Cdwmn2AgjA",authDomain:"inthesify-new.firebaseapp.com",databaseURL:"https://inthesify-new-default-rtdb.firebaseio.com",projectId:"inthesify-new",storageBucket:"inthesify-new.appspot.com",messagingSenderId:"346177356137",appId:"1:346177356137:web:5823438d09c201978ebdf8"},app=initializeApp(firebaseConfig),auth=getAuth(app),email=document.querySelector("#email"),emailError=document.querySelector("#invalid-feedback-email"),emailRegex=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,resetForm=document.querySelector("#reset-form");function clearErrorMessages(e){e.forEach(e=>{e.errorElement.textContent=""})}function displayErrorMessage(e,r){e.errorElement.innerHTML=r,e.errorElement.classList.replace("invalid-feedback","d-block")}function validation(){const e=[{inputField:email,regex:emailRegex,errorElement:emailError,errorMessage:"Please enter a valid email address."}];return clearErrorMessages(e),e.every(e=>!!e.regex.test(e.inputField.value.trim())||(displayErrorMessage(e,e.errorMessage),!1))}async function resetPassword(e){if(validation())try{await sendPasswordResetEmail(auth,e),resetForm.reset(),console.log("Password reset email sent successfully to:",e),window.location.href="reset_success.html"}catch(e){console.error("Error sending password reset email:",e.message),emailError.textContent="Account does not exist. Please sign up.",emailError.classList.replace("invalid-feedback","d-block")}}resetForm.addEventListener("submit",e=>{e.preventDefault(),resetPassword(email.value.trim().toLowerCase())});